{"ast":null,"code":"import React from'react';import{SignIn,SignUp}from'@clerk/clerk-react';import{useAppAuth}from'../lib/auth';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AuthGuard=_ref=>{let{children}=_ref;const{isLoaded,isSignedIn}=useAppAuth();// Development mode detection\nconst isDevelopment=window.location.hostname==='localhost'||window.location.hostname==='127.0.0.1';// Show loading spinner while Clerk loads (only in production)\nif(!isDevelopment&&!isLoaded){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen gradient-bg flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading...\"})]})});}// In development mode, if not signed in, just show the children (App.tsx handles routing)\nif(isDevelopment){return/*#__PURE__*/_jsx(_Fragment,{children:children});}// Production: Show sign-in if not authenticated\nif(!isSignedIn){return/*#__PURE__*/_jsx(AuthPage,{});}// Show the app if authenticated\nreturn/*#__PURE__*/_jsx(_Fragment,{children:children});};const AuthPage=()=>{const[isSignUp,setIsSignUp]=React.useState(false);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen gradient-bg flex items-center justify-center px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo.png\",alt:\"Paratox Logo\",className:\"mx-auto h-16 w-16 mb-4 rounded-2xl shadow-lg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-gradient rounded-2xl p-6 text-white mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-2\",children:\"\\u2728 Health Tracker\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/90\",children:\"Track your 28-day parasite cleanse journey\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-gradient\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSignUp(false),className:\"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors \".concat(!isSignUp?'bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm':'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'),children:\"Sign In\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSignUp(true),className:\"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors \".concat(isSignUp?'bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm':'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'),children:\"Sign Up\"})]})}),isSignUp&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-700 dark:text-blue-300\",children:[\"\\uD83D\\uDCA1 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Please provide your first and last name\"}),\" during signup for a personalized experience throughout your health journey.\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"clerk-auth-container\",children:isSignUp?/*#__PURE__*/_jsx(SignUp,{routing:\"hash\",appearance:{elements:{formButtonPrimary:'bg-primary-600 hover:bg-primary-700',card:'shadow-none bg-transparent',headerTitle:'text-gray-900 dark:text-gray-100',headerSubtitle:'text-gray-600 dark:text-gray-400',socialButtonsBlockButton:'border-gray-200 dark:border-gray-600',formFieldInput:'border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700',footerActionLink:'text-primary-600 hover:text-primary-700'}}}):/*#__PURE__*/_jsx(SignIn,{routing:\"hash\",appearance:{elements:{formButtonPrimary:'bg-primary-600 hover:bg-primary-700',card:'shadow-none bg-transparent',headerTitle:'text-gray-900 dark:text-gray-100',headerSubtitle:'text-gray-600 dark:text-gray-400',socialButtonsBlockButton:'border-gray-200 dark:border-gray-600',formFieldInput:'border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700',footerActionLink:'text-primary-600 hover:text-primary-700'}}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-gradient p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-primary-600 text-xl mb-2\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-900 dark:text-gray-100 font-medium\",children:\"Track Progress\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:\"28-day journey\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-gradient p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-primary-600 text-xl mb-2\",children:\"\\uD83D\\uDCF1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-900 dark:text-gray-100 font-medium\",children:\"Sync Devices\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Access anywhere\"})]})]})})]})});};export default AuthGuard;","map":{"version":3,"names":["React","SignIn","SignUp","useAppAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AuthGuard","_ref","children","isLoaded","isSignedIn","isDevelopment","window","location","hostname","className","AuthPage","isSignUp","setIsSignUp","useState","src","alt","onClick","concat","routing","appearance","elements","formButtonPrimary","card","headerTitle","headerSubtitle","socialButtonsBlockButton","formFieldInput","footerActionLink"],"sources":["/Users/devenspear/CascadeProjects/Paratox1.0/src/components/AuthGuard.tsx"],"sourcesContent":["import React from 'react';\nimport { SignIn, SignUp } from '@clerk/clerk-react';\nimport { useAppAuth } from '../lib/auth';\n\ninterface AuthGuardProps {\n  children: React.ReactNode;\n}\n\nconst AuthGuard: React.FC<AuthGuardProps> = ({ children }) => {\n  const { isLoaded, isSignedIn } = useAppAuth();\n\n  // Development mode detection\n  const isDevelopment = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';\n\n  // Show loading spinner while Clerk loads (only in production)\n  if (!isDevelopment && !isLoaded) {\n    return (\n      <div className=\"min-h-screen gradient-bg flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 dark:text-gray-400\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // In development mode, if not signed in, just show the children (App.tsx handles routing)\n  if (isDevelopment) {\n    return <>{children}</>;\n  }\n\n  // Production: Show sign-in if not authenticated\n  if (!isSignedIn) {\n    return <AuthPage />;\n  }\n\n  // Show the app if authenticated\n  return <>{children}</>;\n};\n\nconst AuthPage: React.FC = () => {\n  const [isSignUp, setIsSignUp] = React.useState(false);\n\n  return (\n    <div className=\"min-h-screen gradient-bg flex items-center justify-center px-4\">\n      <div className=\"max-w-md w-full\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <img src=\"/logo.png\" alt=\"Paratox Logo\" className=\"mx-auto h-16 w-16 mb-4 rounded-2xl shadow-lg\" />\n          <div className=\"hero-gradient rounded-2xl p-6 text-white mb-6\">\n            <h1 className=\"text-3xl font-bold mb-2\">âœ¨ Health Tracker</h1>\n            <p className=\"text-white/90\">\n              Track your 28-day parasite cleanse journey\n            </p>\n          </div>\n        </div>\n\n        {/* Auth Forms */}\n        <div className=\"card-gradient\">\n          <div className=\"text-center mb-6\">\n            <div className=\"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1\">\n              <button\n                onClick={() => setIsSignUp(false)}\n                className={`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${\n                  !isSignUp\n                    ? 'bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm'\n                    : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n                }`}\n              >\n                Sign In\n              </button>\n              <button\n                onClick={() => setIsSignUp(true)}\n                className={`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${\n                  isSignUp\n                    ? 'bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-sm'\n                    : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'\n                }`}\n              >\n                Sign Up\n              </button>\n            </div>\n          </div>\n\n          {isSignUp && (\n            <div className=\"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg\">\n              <p className=\"text-sm text-blue-700 dark:text-blue-300\">\n                ðŸ’¡ <strong>Please provide your first and last name</strong> during signup for a personalized experience throughout your health journey.\n              </p>\n            </div>\n          )}\n\n          <div className=\"clerk-auth-container\">\n            {isSignUp ? (\n              <SignUp \n                routing=\"hash\"\n                appearance={{\n                  elements: {\n                    formButtonPrimary: 'bg-primary-600 hover:bg-primary-700',\n                    card: 'shadow-none bg-transparent',\n                    headerTitle: 'text-gray-900 dark:text-gray-100',\n                    headerSubtitle: 'text-gray-600 dark:text-gray-400',\n                    socialButtonsBlockButton: 'border-gray-200 dark:border-gray-600',\n                    formFieldInput: 'border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700',\n                    footerActionLink: 'text-primary-600 hover:text-primary-700'\n                  }\n                }}\n              />\n            ) : (\n              <SignIn \n                routing=\"hash\"\n                appearance={{\n                  elements: {\n                    formButtonPrimary: 'bg-primary-600 hover:bg-primary-700',\n                    card: 'shadow-none bg-transparent',\n                    headerTitle: 'text-gray-900 dark:text-gray-100',\n                    headerSubtitle: 'text-gray-600 dark:text-gray-400',\n                    socialButtonsBlockButton: 'border-gray-200 dark:border-gray-600',\n                    formFieldInput: 'border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700',\n                    footerActionLink: 'text-primary-600 hover:text-primary-700'\n                  }\n                }}\n              />\n            )}\n          </div>\n        </div>\n\n        {/* Features */}\n        <div className=\"mt-8 text-center\">\n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\n            <div className=\"card-gradient p-4\">\n              <div className=\"text-primary-600 text-xl mb-2\">ðŸ“Š</div>\n              <div className=\"text-gray-900 dark:text-gray-100 font-medium\">Track Progress</div>\n              <div className=\"text-gray-600 dark:text-gray-400\">28-day journey</div>\n            </div>\n            <div className=\"card-gradient p-4\">\n              <div className=\"text-primary-600 text-xl mb-2\">ðŸ“±</div>\n              <div className=\"text-gray-900 dark:text-gray-100 font-medium\">Sync Devices</div>\n              <div className=\"text-gray-600 dark:text-gray-400\">Access anywhere</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthGuard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}