{"ast":null,"code":"import _objectSpread from \"/Users/devenspear/CascadeProjects/HealthApps25/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n// src/create-pool.ts\nimport { Pool, neon } from \"@neondatabase/serverless\";\n\n// src/error.ts\nvar VercelPostgresError = class extends Error {\n  constructor(code, message) {\n    super(\"VercelPostgresError - '\".concat(code, \"': \").concat(message));\n    this.code = code;\n    this.name = \"VercelPostgresError\";\n  }\n};\n\n// src/postgres-connection-string.ts\nfunction postgresConnectionString() {\n  let type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"pool\";\n  let connectionString;\n  switch (type) {\n    case \"pool\":\n      {\n        connectionString = process.env.POSTGRES_URL;\n        break;\n      }\n    case \"direct\":\n      {\n        connectionString = process.env.POSTGRES_URL_NON_POOLING;\n        break;\n      }\n    default:\n      {\n        const _exhaustiveCheck = type;\n        const str = _exhaustiveCheck;\n        throw new VercelPostgresError(\"invalid_connection_type\", \"Unhandled type: \".concat(str));\n      }\n  }\n  if (connectionString === \"undefined\") connectionString = void 0;\n  return connectionString;\n}\nfunction isPooledConnectionString(connectionString) {\n  return connectionString.includes(\"-pooler.\");\n}\nfunction isDirectConnectionString(connectionString) {\n  return !isPooledConnectionString(connectionString);\n}\nfunction isLocalhostConnectionString(connectionString) {\n  try {\n    const withHttpsProtocol = connectionString.replace(/^postgresql:\\/\\//, \"https://\");\n    return new URL(withHttpsProtocol).hostname === \"localhost\";\n  } catch (err) {\n    if (err instanceof TypeError) {\n      return false;\n    }\n    if (typeof err === \"object\" && err !== null && \"message\" in err && typeof err.message === \"string\" && err.message === \"Invalid URL\") {\n      return false;\n    }\n    throw err;\n  }\n}\n\n// src/sql-template.ts\nfunction sqlTemplate(strings) {\n  var _a, _b;\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n  if (!isTemplateStringsArray(strings) || !Array.isArray(values)) {\n    throw new VercelPostgresError(\"incorrect_tagged_template_call\", \"It looks like you tried to call `sql` as a function. Make sure to use it as a tagged template.\\n\tExample: sql`SELECT * FROM users`, not sql('SELECT * FROM users')\");\n  }\n  let result = (_a = strings[0]) != null ? _a : \"\";\n  for (let i = 1; i < strings.length; i++) {\n    result += \"$\".concat(i).concat((_b = strings[i]) != null ? _b : \"\");\n  }\n  return [result, values];\n}\nfunction isTemplateStringsArray(strings) {\n  return Array.isArray(strings) && \"raw\" in strings && Array.isArray(strings.raw);\n}\n\n// src/create-client.ts\nimport { Client } from \"@neondatabase/serverless\";\nvar VercelClient = class extends Client {\n  /**\n   * A template literal tag providing safe, easy to use SQL parameterization.\n   * Parameters are substituted using the underlying Postgres database, and so must follow\n   * the rules of Postgres parameterization.\n   * @example\n   * ```ts\n   * const pool = createClient();\n   * const userId = 123;\n   * await client.connect();\n   * const result = await pool.sql`SELECT * FROM users WHERE id = ${userId}`;\n   * // Equivalent to: await pool.query('SELECT * FROM users WHERE id = $1', [id]);\n   * await client.end();\n   * ```\n   * @returns A promise that resolves to the query result.\n   */\n  async sql(strings) {\n    for (var _len2 = arguments.length, values = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      values[_key2 - 1] = arguments[_key2];\n    }\n    const [query, params] = sqlTemplate(strings, ...values);\n    return this.query(query, params);\n  }\n};\nfunction createClient(config) {\n  var _a;\n  const connectionString = (_a = config == null ? void 0 : config.connectionString) != null ? _a : postgresConnectionString(\"direct\");\n  if (!connectionString) throw new VercelPostgresError(\"missing_connection_string\", \"You did not supply a 'connectionString' and no 'POSTGRES_URL_NON_POOLING' env var was found.\");\n  if (!isLocalhostConnectionString(connectionString) && !isDirectConnectionString(connectionString)) throw new VercelPostgresError(\"invalid_connection_string\", \"This connection string is meant to be used with a pooled connection. Try `createPool()` instead.\");\n  return new VercelClient(_objectSpread(_objectSpread({}, config), {}, {\n    connectionString\n  }));\n}\n\n// src/create-pool.ts\nvar VercelPool = class extends Pool {\n  constructor(config) {\n    var _a;\n    super(config);\n    this.Client = VercelClient;\n    this.connectionString = (_a = config.connectionString) != null ? _a : \"\";\n  }\n  /**\n   * A template literal tag providing safe, easy to use SQL parameterization.\n   * Parameters are substituted using the underlying Postgres database, and so must follow\n   * the rules of Postgres parameterization.\n   * @example\n   * ```ts\n   * const pool = createPool();\n   * const userId = 123;\n   * const result = await pool.sql`SELECT * FROM users WHERE id = ${userId}`;\n   * // Equivalent to: await pool.query('SELECT * FROM users WHERE id = $1', [id]);\n   * ```\n   * @returns A promise that resolves to the query result.\n   */\n  async sql(strings) {\n    for (var _len3 = arguments.length, values = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      values[_key3 - 1] = arguments[_key3];\n    }\n    const [query, params] = sqlTemplate(strings, ...values);\n    const sql2 = neon(this.connectionString, {\n      fullResults: true\n    });\n    return sql2(query, params);\n  }\n  connect(callback) {\n    return super.connect(callback);\n  }\n};\nfunction createPool(config) {\n  var _a;\n  const connectionString = (_a = config == null ? void 0 : config.connectionString) != null ? _a : postgresConnectionString(\"pool\");\n  if (!connectionString) throw new VercelPostgresError(\"missing_connection_string\", \"You did not supply a 'connectionString' and no 'POSTGRES_URL' env var was found.\");\n  if (!isLocalhostConnectionString(connectionString) && !isPooledConnectionString(connectionString)) throw new VercelPostgresError(\"invalid_connection_string\", \"This connection string is meant to be used with a direct connection. Make sure to use a pooled connection string or try `createClient()` instead.\");\n  let maxUses = config == null ? void 0 : config.maxUses;\n  let max = config == null ? void 0 : config.max;\n  if (typeof EdgeRuntime !== \"undefined\") {\n    if (maxUses && maxUses !== 1) {\n      console.warn(\"@vercel/postgres: Overriding `maxUses` to 1 because the EdgeRuntime does not support client reuse.\");\n    }\n    if (max && max !== 1e4) {\n      console.warn(\"@vercel/postgres: Overriding `max` to 10,000 because the EdgeRuntime does not support client reuse.\");\n    }\n    maxUses = 1;\n    max = 1e4;\n  }\n  const pool2 = new VercelPool(_objectSpread(_objectSpread({}, config), {}, {\n    connectionString,\n    maxUses,\n    max\n  }));\n  return pool2;\n}\n\n// src/index.ts\nimport { types } from \"@neondatabase/serverless\";\nvar pool;\nvar sql = new Proxy(\n// eslint-disable-next-line @typescript-eslint/no-empty-function -- [@vercel/style-guide@5 migration]\n() => {}, {\n  get(_, prop) {\n    if (!pool) {\n      pool = createPool();\n    }\n    const val = Reflect.get(pool, prop);\n    if (typeof val === \"function\") {\n      return val.bind(pool);\n    }\n    return val;\n  },\n  apply(_, __, argumentsList) {\n    if (!pool) {\n      pool = createPool();\n    }\n    return pool.sql(...argumentsList);\n  }\n});\nvar db = sql;\nexport { postgresConnectionString, VercelClient, createClient, VercelPool, createPool, sql, db, types };","map":{"version":3,"names":["Pool","neon","VercelPostgresError","Error","constructor","code","message","concat","name","postgresConnectionString","type","arguments","length","undefined","connectionString","process","env","POSTGRES_URL","POSTGRES_URL_NON_POOLING","_exhaustiveCheck","str","isPooledConnectionString","includes","isDirectConnectionString","isLocalhostConnectionString","withHttpsProtocol","replace","URL","hostname","err","TypeError","sqlTemplate","strings","_a","_b","_len","values","Array","_key","isTemplateStringsArray","isArray","result","i","raw","Client","VercelClient","sql","_len2","_key2","query","params","createClient","config","_objectSpread","VercelPool","_len3","_key3","sql2","fullResults","connect","callback","createPool","maxUses","max","EdgeRuntime","console","warn","pool2","types","pool","Proxy","get","_","prop","val","Reflect","bind","apply","__","argumentsList","db"],"sources":["/Users/devenspear/CascadeProjects/HealthApps25/node_modules/@vercel/postgres/src/create-pool.ts","/Users/devenspear/CascadeProjects/HealthApps25/node_modules/@vercel/postgres/src/error.ts","/Users/devenspear/CascadeProjects/HealthApps25/node_modules/@vercel/postgres/src/postgres-connection-string.ts","/Users/devenspear/CascadeProjects/HealthApps25/node_modules/@vercel/postgres/src/sql-template.ts","/Users/devenspear/CascadeProjects/HealthApps25/node_modules/@vercel/postgres/src/create-client.ts","/Users/devenspear/CascadeProjects/HealthApps25/node_modules/@vercel/postgres/src/index.ts"],"sourcesContent":["import type {\n  PoolClient,\n  QueryResult,\n  QueryResultRow,\n} from '@neondatabase/serverless';\nimport { Pool, neon } from '@neondatabase/serverless';\nimport type { VercelPoolClient, VercelPostgresPoolConfig } from './types';\nimport {\n  isLocalhostConnectionString,\n  isPooledConnectionString,\n  postgresConnectionString,\n} from './postgres-connection-string';\nimport { VercelPostgresError } from './error';\nimport type { Primitive } from './sql-template';\nimport { sqlTemplate } from './sql-template';\nimport { VercelClient } from './create-client';\n\nexport class VercelPool extends Pool {\n  Client = VercelClient;\n  private connectionString: string;\n\n  constructor(config: VercelPostgresPoolConfig) {\n    super(config);\n    this.connectionString = config.connectionString ?? '';\n  }\n\n  /**\n   * A template literal tag providing safe, easy to use SQL parameterization.\n   * Parameters are substituted using the underlying Postgres database, and so must follow\n   * the rules of Postgres parameterization.\n   * @example\n   * ```ts\n   * const pool = createPool();\n   * const userId = 123;\n   * const result = await pool.sql`SELECT * FROM users WHERE id = ${userId}`;\n   * // Equivalent to: await pool.query('SELECT * FROM users WHERE id = $1', [id]);\n   * ```\n   * @returns A promise that resolves to the query result.\n   */\n  async sql<O extends QueryResultRow>(\n    strings: TemplateStringsArray,\n    ...values: Primitive[]\n  ): Promise<QueryResult<O>> {\n    const [query, params] = sqlTemplate(strings, ...values);\n\n    const sql = neon(this.connectionString, {\n      fullResults: true,\n    });\n    return sql(query, params) as unknown as Promise<QueryResult<O>>;\n  }\n\n  connect(): Promise<VercelPoolClient>;\n  connect(\n    callback: (\n      err: Error,\n      client: VercelPoolClient,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any -- [@vercel/style-guide@5 migration]\n      done: (release?: any) => void,\n    ) => void,\n  ): void;\n  connect(\n    callback?: (\n      err: Error,\n      client: VercelPoolClient,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any -- [@vercel/style-guide@5 migration]\n      done: (release?: any) => void,\n    ) => void,\n    // eslint-disable-next-line @typescript-eslint/no-invalid-void-type -- [@vercel/style-guide@5 migration]\n  ): void | Promise<VercelPoolClient> {\n    // eslint-disable-next-line @typescript-eslint/no-confusing-void-expression -- [@vercel/style-guide@5 migration]\n    return super.connect(\n      callback as (\n        err: Error,\n        client: PoolClient,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any -- [@vercel/style-guide@5 migration]\n        done: (release?: any) => void,\n      ) => void,\n    );\n  }\n}\n\nexport function createPool(config?: VercelPostgresPoolConfig): VercelPool {\n  const connectionString =\n    config?.connectionString ?? postgresConnectionString('pool');\n  if (!connectionString)\n    throw new VercelPostgresError(\n      'missing_connection_string',\n      \"You did not supply a 'connectionString' and no 'POSTGRES_URL' env var was found.\",\n    );\n\n  if (\n    !isLocalhostConnectionString(connectionString) &&\n    !isPooledConnectionString(connectionString)\n  )\n    throw new VercelPostgresError(\n      'invalid_connection_string',\n      'This connection string is meant to be used with a direct connection. Make sure to use a pooled connection string or try `createClient()` instead.',\n    );\n\n  let maxUses = config?.maxUses;\n  let max = config?.max;\n  if (typeof EdgeRuntime !== 'undefined') {\n    if (maxUses && maxUses !== 1) {\n      // eslint-disable-next-line no-console -- [@vercel/style-guide@5 migration]\n      console.warn(\n        '@vercel/postgres: Overriding `maxUses` to 1 because the EdgeRuntime does not support client reuse.',\n      );\n    }\n    if (max && max !== 10_000) {\n      // eslint-disable-next-line no-console -- [@vercel/style-guide@5 migration]\n      console.warn(\n        '@vercel/postgres: Overriding `max` to 10,000 because the EdgeRuntime does not support client reuse.',\n      );\n    }\n    // Client reuse is not supported in the EdgeRuntime because it does not support IO across requests.\n    maxUses = 1;\n    // Since we do not allow client reuse, we need a higher max number of clients to avoid running out of\n    // connections.\n    // Usecase: a website that needs more than 10 concurrent connections\n    // https://node-postgres.com/apis/pool#new-pool\n    max = 10_000;\n  }\n\n  const pool = new VercelPool({\n    ...config,\n    connectionString,\n    maxUses,\n    max,\n  });\n  return pool;\n}\n","type VercelPostgresErrorCode =\n  | 'invalid_connection_string'\n  | 'missing_connection_string'\n  | 'invalid_connection_type'\n  | 'incorrect_tagged_template_call';\n\nexport class VercelPostgresError extends Error {\n  public constructor(\n    public code: VercelPostgresErrorCode,\n    message: string,\n  ) {\n    super(`VercelPostgresError - '${code}': ${message}`);\n    this.name = 'VercelPostgresError';\n  }\n}\n","import { VercelPostgresError } from './error';\n\nexport type ConnectionStringType = 'pool' | 'direct';\n\nexport function postgresConnectionString(\n  type: ConnectionStringType = 'pool',\n): string | undefined {\n  let connectionString: string | undefined;\n\n  switch (type) {\n    case 'pool': {\n      connectionString = process.env.POSTGRES_URL;\n      break;\n    }\n    case 'direct': {\n      connectionString = process.env.POSTGRES_URL_NON_POOLING;\n      break;\n    }\n    default: {\n      const _exhaustiveCheck: never = type;\n      const str = _exhaustiveCheck as string;\n      throw new VercelPostgresError(\n        'invalid_connection_type',\n        `Unhandled type: ${str}`,\n      );\n    }\n  }\n\n  if (connectionString === 'undefined') connectionString = undefined;\n  return connectionString;\n}\n\nexport function isPooledConnectionString(connectionString: string): boolean {\n  return connectionString.includes('-pooler.');\n}\n\nexport function isDirectConnectionString(connectionString: string): boolean {\n  return !isPooledConnectionString(connectionString);\n}\n\nexport function isLocalhostConnectionString(connectionString: string): boolean {\n  try {\n    // This seems silly, but we can use all of the hard work put into URL parsing\n    // if we just convert `postgresql://` to `https://` and then parse it as a URL.\n    const withHttpsProtocol = connectionString.replace(\n      /^postgresql:\\/\\//,\n      'https://',\n    );\n    return new URL(withHttpsProtocol).hostname === 'localhost';\n  } catch (err) {\n    if (err instanceof TypeError) {\n      return false;\n    }\n    // ok typescript\n    if (\n      typeof err === 'object' &&\n      err !== null &&\n      'message' in err &&\n      typeof err.message === 'string' &&\n      err.message === 'Invalid URL'\n    ) {\n      return false;\n    }\n    throw err;\n  }\n}\n","import { VercelPostgresError } from './error';\n\nexport type Primitive = string | number | boolean | undefined | null;\n\nexport function sqlTemplate(\n  strings: TemplateStringsArray,\n  ...values: Primitive[]\n): [string, Primitive[]] {\n  if (!isTemplateStringsArray(strings) || !Array.isArray(values)) {\n    throw new VercelPostgresError(\n      'incorrect_tagged_template_call',\n      \"It looks like you tried to call `sql` as a function. Make sure to use it as a tagged template.\\n\\tExample: sql`SELECT * FROM users`, not sql('SELECT * FROM users')\",\n    );\n  }\n\n  let result = strings[0] ?? '';\n\n  for (let i = 1; i < strings.length; i++) {\n    result += `$${i}${strings[i] ?? ''}`;\n  }\n\n  return [result, values];\n}\n\nfunction isTemplateStringsArray(\n  strings: unknown,\n): strings is TemplateStringsArray {\n  return (\n    Array.isArray(strings) && 'raw' in strings && Array.isArray(strings.raw)\n  );\n}\n","import type { QueryResult, QueryResultRow } from '@neondatabase/serverless';\nimport { Client } from '@neondatabase/serverless';\nimport type { VercelPostgresClientConfig } from './types';\nimport {\n  isDirectConnectionString,\n  isLocalhostConnectionString,\n  postgresConnectionString,\n} from './postgres-connection-string';\nimport { VercelPostgresError } from './error';\nimport type { Primitive } from './sql-template';\nimport { sqlTemplate } from './sql-template';\n\nexport class VercelClient extends Client {\n  /**\n   * A template literal tag providing safe, easy to use SQL parameterization.\n   * Parameters are substituted using the underlying Postgres database, and so must follow\n   * the rules of Postgres parameterization.\n   * @example\n   * ```ts\n   * const pool = createClient();\n   * const userId = 123;\n   * await client.connect();\n   * const result = await pool.sql`SELECT * FROM users WHERE id = ${userId}`;\n   * // Equivalent to: await pool.query('SELECT * FROM users WHERE id = $1', [id]);\n   * await client.end();\n   * ```\n   * @returns A promise that resolves to the query result.\n   */\n  async sql<O extends QueryResultRow>(\n    strings: TemplateStringsArray,\n    ...values: Primitive[]\n  ): Promise<QueryResult<O>> {\n    const [query, params] = sqlTemplate(strings, ...values);\n    return this.query(query, params);\n  }\n}\n\nexport function createClient(\n  config?: VercelPostgresClientConfig,\n): VercelClient {\n  const connectionString =\n    config?.connectionString ?? postgresConnectionString('direct');\n  if (!connectionString)\n    throw new VercelPostgresError(\n      'missing_connection_string',\n      \"You did not supply a 'connectionString' and no 'POSTGRES_URL_NON_POOLING' env var was found.\",\n    );\n  if (\n    !isLocalhostConnectionString(connectionString) &&\n    !isDirectConnectionString(connectionString)\n  )\n    throw new VercelPostgresError(\n      'invalid_connection_string',\n      'This connection string is meant to be used with a pooled connection. Try `createPool()` instead.',\n    );\n  return new VercelClient({\n    ...config,\n    connectionString,\n  });\n}\n","import type { QueryResult, QueryResultRow } from '@neondatabase/serverless';\nimport { type VercelPool, createPool } from './create-pool';\nimport type { Primitive } from './sql-template';\n\nexport * from './create-client';\nexport * from './create-pool';\nexport * from './types';\nexport { types } from '@neondatabase/serverless';\nexport { postgresConnectionString } from './postgres-connection-string';\n\nlet pool: VercelPool | undefined;\n\n// for future peons who aren't briliant like Malte, this means\n// \"make an object that will pretend to be a pool but not initialize itself\n// until someone tries to access a property on it\"\n// this also makes it callable, so you can call `sql` as a function\nexport const sql = new Proxy(\n  // eslint-disable-next-line @typescript-eslint/no-empty-function -- [@vercel/style-guide@5 migration]\n  () => {},\n  {\n    get(_, prop) {\n      if (!pool) {\n        pool = createPool();\n      }\n\n      // keep an eye on this -- it'll fail on certain cases, like private property access, which can\n      // require weird things like binding or calling with an explicit `this` arg.\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment -- [@vercel/style-guide@5 migration]\n      const val = Reflect.get(pool, prop);\n      if (typeof val === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call -- [@vercel/style-guide@5 migration]\n        return val.bind(pool);\n      }\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-return -- [@vercel/style-guide@5 migration]\n      return val;\n    },\n    apply(_, __, argumentsList) {\n      if (!pool) {\n        pool = createPool();\n      }\n\n      // @ts-expect-error - we're breaking all kinds of rules\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- [@vercel/style-guide@5 migration]\n      return pool.sql(...argumentsList);\n    },\n  },\n) as unknown as VercelPool &\n  (<O extends QueryResultRow>(\n    strings: TemplateStringsArray,\n    ...values: Primitive[]\n  ) => Promise<QueryResult<O>>);\n\nexport const db = sql;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}